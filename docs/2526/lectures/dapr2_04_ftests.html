<!DOCTYPE html>
<html lang="en"><head>
<script src="dapr2_04_ftests_files/libs/clipboard/clipboard.min.js"></script>
<script src="dapr2_04_ftests_files/libs/quarto-html/tabby.min.js"></script>
<script src="dapr2_04_ftests_files/libs/quarto-html/popper.min.js"></script>
<script src="dapr2_04_ftests_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="dapr2_04_ftests_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="dapr2_04_ftests_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="dapr2_04_ftests_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="dapr2_04_ftests_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.340">

  <meta name="author" content="Emma Waterston">
  <title>F-tests &amp; Model Comparison</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="dapr2_04_ftests_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="dapr2_04_ftests_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #1f1c1b;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #1f1c1b; } /* Normal */
    code span.al { color: #bf0303; background-color: #f7e6e6; font-weight: bold; } /* Alert */
    code span.an { color: #ca60ca; } /* Annotation */
    code span.at { color: #0057ae; } /* Attribute */
    code span.bn { color: #b08000; } /* BaseN */
    code span.bu { color: #644a9b; font-weight: bold; } /* BuiltIn */
    code span.cf { color: #1f1c1b; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #924c9d; } /* Char */
    code span.cn { color: #aa5500; } /* Constant */
    code span.co { color: #898887; } /* Comment */
    code span.cv { color: #0095ff; } /* CommentVar */
    code span.do { color: #607880; } /* Documentation */
    code span.dt { color: #0057ae; } /* DataType */
    code span.dv { color: #b08000; } /* DecVal */
    code span.er { color: #bf0303; text-decoration: underline; } /* Error */
    code span.ex { color: #0095ff; font-weight: bold; } /* Extension */
    code span.fl { color: #b08000; } /* Float */
    code span.fu { color: #644a9b; } /* Function */
    code span.im { color: #ff5500; } /* Import */
    code span.in { color: #b08000; } /* Information */
    code span.kw { color: #1f1c1b; font-weight: bold; } /* Keyword */
    code span.op { color: #ca60ca; } /* Operator */
    code span.ot { color: #006e28; } /* Other */
    code span.pp { color: #006e28; } /* Preprocessor */
    code span.re { color: #0057ae; background-color: #e0e9f8; } /* RegionMarker */
    code span.sc { color: #3daee9; } /* SpecialChar */
    code span.ss { color: #ff5500; } /* SpecialString */
    code span.st { color: #bf0303; } /* String */
    code span.va { color: #0057ae; } /* Variable */
    code span.vs { color: #bf0303; } /* VerbatimString */
    code span.wa { color: #bf0303; } /* Warning */
  </style>
  <link rel="stylesheet" href="dapr2_04_ftests_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="dapr2_04_ftests_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="dapr2_04_ftests_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="dapr2_04_ftests_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="dapr2_04_ftests_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="dapr2_04_ftests_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="dapr2_04_ftests_files/libs/revealjs/plugin/reveal-attribution/attribution.css" rel="stylesheet">
  <link href="dapr2_04_ftests_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
  $(document).ready(function() {
      $('.cell').each(function() {
          let highlightLines = $(this).attr('data-output-line-numbers');
          if (highlightLines) {
              let lines = highlightLines.split(',').map(x => parseInt(x));
              $(this).find('.cell-output-stdout pre code').html(function(_, html) {
                  return html.split('\n').map((line, index) => {
                      if (lines.includes(index + 1)) {
                          return '<span style="background-color: #D0D8FC;">' + line + '</span>';
                      } else {
                          return line;
                      }
                  }).join('\n');
              });
          }
      });
  });
  </script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-color="#BF1932" class="quarto-title-block center">
  <h1 class="title">F-tests &amp; Model Comparison</h1>
  <p class="subtitle"><br>Data Analysis for Psychology in R 2</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Emma Waterston 
</div>
        <p class="quarto-title-affiliation">
            <br>Department of Psychology<br>University of Edinburgh<br>2025–2026
          </p>
    </div>
</div>

</section>
<section>
<section id="course-overview" class="title-slide slide level1 smaller center" data-background-color="#BF1932">
<h1>Course Overview</h1>
<div class="columns">
<div class="column" style="width:50%;">

<table 0="" style="border: 1px solid black;>
  <tr style=" padding:="" 1em="" 1em;"="">
    <tbody><tr><td rowspan="5" style="border: 1px solid black;padding: 0 1em 0 1em;opacity:1;text-align:center;vertical-align: middle">
        <b>Introduction to Linear Models</b></td>
    <td style="border: 1px solid black;padding: 0 1em 0 1em;opacity:1">
        Intro to Linear Regression</td>
  </tr>
  <tr><td style="border: 1px solid black;padding: 0 1em 0 1em;opacity:1">
        Interpreting Linear Models</td></tr>
  <tr><td style="border: 1px solid black;padding: 0 1em 0 1em;opacity:1">
        Testing Individual Predictors</td></tr>
  <tr><td style="border: 1px solid black;padding: 0 1em 0 1em;opacity:1">
        <b>Model Testing &amp; Comparison</b></td></tr>
  <tr><td style="border: 1px solid black;padding: 0 1em 0 1em;opacity:0.4">
        Linear Model Analysis</td></tr>

  <tr style="padding: 0 1em 0 1em;">
    <td rowspan="5" style="border: 1px solid black;padding: 0 1em 0 1em;opacity:0.4;text-align:center;vertical-align: middle">
        <b>Analysing Experimental Studies</b></td>
    <td style="border: 1px solid black;padding: 0 1em 0 1em;opacity:0.4">
        Categorical Predictors &amp; Dummy Coding</td>
  </tr>
  <tr><td style="border: 1px solid black;padding: 0 1em 0 1em;opacity:0.4">
            Effects Coding &amp; Coding Specific Contrasts</td></tr>
  <tr><td style="border: 1px solid black;padding: 0 1em 0 1em;opacity:0.4">
        Assumptions &amp; Diagnostics</td></tr>
  <tr><td style="border: 1px solid black;padding: 0 1em 0 1em;opacity:0.4">
        Bootstrapping</td></tr>
  <tr><td style="border: 1px solid black;padding: 0 1em 0 1em;opacity:0.4">
            Categorical Predictor Analysis</td></tr>
</tbody></table>
</div><div class="column" style="width:50%;">

<table 0="" style="border: 1px solid black;>
  <tr style=" padding:="" 1em="" 1em;"="">
    <tbody><tr><td rowspan="5" style="border: 1px solid black;padding: 0 1em 0 1em;opacity:0.4;text-align:center;vertical-align: middle">
        <b>Interactions</b></td>
    <td style="border: 1px solid black;padding: 0 1em 0 1em;opacity:0.4">
        Interactions I</td>
  </tr>
  <tr><td style="border: 1px solid black;padding: 0 1em 0 1em;opacity:0.4">
        Interactions II</td></tr>
  <tr><td style="border: 1px solid black;padding: 0 1em 0 1em;opacity:0.4">
        Interactions III</td></tr>
  <tr><td style="border: 1px solid black;padding: 0 1em 0 1em;opacity:0.4">
        Analysing Experiments</td></tr>
  <tr><td style="border: 1px solid black;padding: 0 1em 0 1em;opacity:0.4">
        Interaction Analysis</td></tr>

  <tr style="padding: 0 1em 0 1em;">
    <td rowspan="5" style="border: 1px solid black;padding: 0 1em 0 1em;opacity:0.4;text-align:center;vertical-align: middle">
        <b>Advanced Topics</b></td>
    <td style="border: 1px solid black;padding: 0 1em 0 1em;opacity:0.4">
        Power Analysis</td>
  </tr>
  <tr><td style="border: 1px solid black;padding: 0 1em 0 1em;opacity:0.4">
        Binary Logistic Regression I</td></tr>
  <tr><td style="border: 1px solid black;padding: 0 1em 0 1em;opacity:0.4">
        Binary Logistic Regression II</td></tr>
  <tr><td style="border: 1px solid black;padding: 0 1em 0 1em;opacity:0.4">
        Logistic Regression Analysis</td></tr>
  <tr><td style="border: 1px solid black;padding: 0 1em 0 1em;opacity:0.4">
            Exam Prep and Course Q&amp;A</td></tr>
</tbody></table>
</div>
</div>
</section>
<section id="this-weeks-learning-objectives" class="slide level2">
<h2>This Week’s Learning Objectives</h2>
<ol type="1">
<li><p>Understand the use of <span class="math inline">\(F\)</span> and incremental <span class="math inline">\(F\)</span> tests</p></li>
<li><p>Be able to run and interpret <span class="math inline">\(F\)</span>-tests in <code>R</code></p></li>
<li><p>Understand how to use model comparisons to test different types of questions</p></li>
<li><p>Understand the difference between nested and non-nested models, and the appropriate statistics to use for comparison in each case</p></li>
</ol>
</section></section>
<section>
<section id="part-1-recap-overview" class="title-slide slide level1 center" data-background-color="#BF1932">
<h1>Part 1: Recap &amp; Overview</h1>

</section>
<section id="recap" class="slide level2">
<h2>Recap</h2>
<ul>
<li>Last week we looked at:
<ul>
<li>The significance of individual predictors</li>
<li>Overall model evaluation through <span class="math inline">\(R^2\)</span> and <span class="math inline">\(\hat R^2\)</span> to see how much variance in the outcome has been explained</li>
</ul></li>
<li>This week we will:
<ul>
<li>Look at significance tests of the overall model</li>
<li>Discuss how we can use the same tools to do incremental tests (<em>how much does my model improve when I add variables</em>)</li>
</ul></li>
</ul>
</section>
<section id="statistical-significance-of-the-overall-model" class="slide level2">
<h2>Statistical Significance of the Overall Model</h2>
<ul>
<li>Does our combination of <span class="math inline">\(x\)</span>’s significantly improve prediction of <span class="math inline">\(y\)</span>, compared to not having any predictors?</li>
</ul>
<div class="fragment">
<ul>
<li>Some indications that the model might be significant:
<ul>
<li>Slopes for individual predictors associated with significant <span class="math inline">\(p\)</span>-values</li>
<li>High <span class="math inline">\(R^2\)</span></li>
</ul></li>
<li>But these do not directly show model significance</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>To test the significance of the model as a whole, we conduct an <span class="math inline">\(F\)</span>-test</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>When generally evaluating your model overall, ideally you want to look at all of these components together (i.e., significance of <span class="math inline">\(\beta\)</span>s, <span class="math inline">\(R^2\)</span> / <span class="math inline">\(\hat R^2\)</span>, and <span class="math inline">\(F\)</span>-test)</li>
</ul>
</div>
</section>
<section id="f-test-f-ratio" class="slide level2">
<h2><span class="math inline">\(F\)</span>-test &amp; <span class="math inline">\(F\)</span>-ratio</h2>
<ul>
<li><p>An <span class="math inline">\(F\)</span>-test involves testing the statistical significance of a test statistic called the <span class="math inline">\(F\)</span>-ratio (also called <span class="math inline">\(F\)</span>-statistic)</p></li>
<li><p>The <span class="math inline">\(F\)</span>-ratio tests the null hypothesis that all the regression slopes in a model are zero (i.e., <span class="math inline">\(H_0: \text{All } \beta_j = 0\)</span>)</p></li>
<li><p>How does it work? Compares two models - the one you have specified to an intercept-only model (i.e., a model with no independent variables where the the model’s predictions equal the mean of the outcome)</p></li>
</ul>
<div class="fragment">
<ul>
<li><p>In other words, our predictors tell us nothing about our outcome</p></li>
<li><p>They explain no variance</p></li>
</ul>
</div>
<div class="fragment">
<ul>
<li><p>The more variance our predictors explain, the bigger our <span class="math inline">\(F\)</span>-ratio</p></li>
<li><p>As with <span class="math inline">\(t\)</span>-values and the <span class="math inline">\(t\)</span>-distribution, we compare the <span class="math inline">\(F\)</span>-statistic to the <span class="math inline">\(F\)</span>-distribution to obtain a <span class="math inline">\(p\)</span>-value</p></li>
</ul>
</div>
</section>
<section id="our-results-significant-f" class="slide level2">
<h2>Our Results (Significant <span class="math inline">\(F\)</span>)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>performance <span class="ot">&lt;-</span> <span class="fu">lm</span>(score <span class="sc">~</span> hours <span class="sc">+</span> motivation, <span class="at">data =</span> test_study2); <span class="fu">summary</span>(performance)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = score ~ hours + motivation, data = test_study2)

Residuals:
    Min      1Q  Median      3Q     Max 
-12.955  -2.804  -0.285   2.934  13.824 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)   6.8668     0.6547   10.49   &lt;2e-16 ***
hours         1.3757     0.0799   17.22   &lt;2e-16 ***
motivation    0.9163     0.3838    2.39    0.018 *  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 4.39 on 147 degrees of freedom
Multiple R-squared:  0.67,  Adjusted R-squared:  0.665 
F-statistic:  149 on 2 and 147 DF,  p-value: &lt;2e-16</code></pre>
</div>
</div>
</section>
<section id="f-ratio-some-details" class="slide level2">
<h2>F-ratio: Some Details</h2>
<ul>
<li><span class="math inline">\(F\)</span>-ratio is a ratio of the explained to unexplained variance:</li>
</ul>
<p><span class="math display">\[
F = \frac{\frac{SS_{model}}{df_{model}}}{\frac{SS_{residual}}{df_{residual}}} = \frac{MS_{Model}}{MS_{Residual}}
\]</span></p>
<ul>
<li>In other words, the ratio of the how much of the variation is explained by the model (per parameter) versus how much of the variation is unexplained (per remaining degrees of freedom)</li>
</ul>
<div class="fragment">
<ul>
<li><p><strong>What are mean squares (MS)?</strong></p>
<ul>
<li>Mean squares are sums of squares calculations divided by the associated degrees of freedom</li>
<li>We saw how to calculate model and residual sums of squares last week</li>
</ul></li>
<li><p>But what are model and residual degrees of freedom?</p></li>
</ul>
</div>
</section>
<section id="recap-sums-of-squares" class="slide level2">
<h2>Recap: Sums of Squares</h2>
<div class="columns">
<div class="column" style="width:30%;">
<p><span class="math display">\[
\small SS_{Total} = \sum_{i=1}^{n}(y_i - \bar{y})^2
\]</span></p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:30%;">
<p><span class="math display">\[
\small SS_{Residual} = \sum_{i=1}^{n}(y_i - \hat{y}_i)^2
\]</span></p>
</div><div class="column" style="width:5%;">

</div><div class="column" style="width:30%;">
<p><span class="math display">\[
\small SS_{Model} = \sum_{i=1}^{n}(\hat{y}_i - \bar{y})^2
\]</span></p>
</div>
</div>

<img data-src="figs/ss_recap.png" width="1713" class="r-stretch"></section>
<section id="degrees-of-freedom" class="slide level2">
<h2>Degrees of Freedom</h2>
<ul>
<li><p>The degrees of freedom are defined as the number of independent values associated with the different calculations</p>
<ul>
<li>Conceptually, how many values in the calculation can vary, if we keep the outcome of the calculation fixed</li>
</ul></li>
</ul>
<div class="fragment">
<ul>
<li><span class="math inline">\(df\)</span> are typically linked to:
<ul>
<li>the amount of data you have (sample size, <span class="math inline">\(n\)</span>)</li>
<li>and the number of things you need to calculate/estimate based on that data (in our case the number of <span class="math inline">\(beta\)</span>s)</li>
</ul></li>
</ul>
</div>
</section>
<section id="degrees-of-freedom-1" class="slide level2 smaller">
<h2>Degrees of Freedom</h2>
<ul>
<li><p><strong>Model degrees of freedom = <span class="math inline">\(k\)</span> </strong></p>
<ul>
<li><span class="math inline">\(SS_{model}\)</span> are dependent on estimated <span class="math inline">\(\beta\)</span> s, which is <span class="math inline">\(k + 1\)</span> (the number of predictors plus the intercept)</li>
<li>From <span class="math inline">\(k + 1\)</span>, we subtract <span class="math inline">\(1\)</span> as not all the estimates can vary while holding the outcome constant</li>
<li>This gives us <span class="math inline">\(k\)</span> for Model <span class="math inline">\(df\)</span></li>
</ul></li>
</ul>
<div class="fragment">
<ul>
<li><strong>Residual degrees of freedom = <span class="math inline">\(n-k-1\)</span> </strong>
<ul>
<li><span class="math inline">\(SS_{residual}\)</span> calculation is based on our individual data points and our model (in which we estimate <span class="math inline">\(k + 1\)</span> <span class="math inline">\(\beta\)</span> terms, i.e.&nbsp;the slopes and an intercept)</li>
<li>For each coefficient estimated, we lose a degree of freedom, as we’re fitting the model to the data and reducing the flexibility in how much the residuals (errors) can vary</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<ul>
<li><strong>Total degrees of freedom = <span class="math inline">\(n-1\)</span> </strong>
<ul>
<li><span class="math inline">\(SS_{total}\)</span> calculation is based on the observed <span class="math inline">\(y_i\)</span> and <span class="math inline">\(\bar{y}\)</span> .</li>
<li>In order to estimate <span class="math inline">\(\bar{y}\)</span> , all apart from one value of <span class="math inline">\(y\)</span> is free to vary, hence <span class="math inline">\(n-1\)</span></li>
</ul></li>
</ul>
</div>
</section>
<section id="our-example-note-the-df-at-the-bottom" class="slide level2">
<h2>Our Example (note the <span class="math inline">\(df\)</span> at the bottom)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(performance)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = score ~ hours + motivation, data = test_study2)

Residuals:
    Min      1Q  Median      3Q     Max 
-12.955  -2.804  -0.285   2.934  13.824 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)   6.8668     0.6547   10.49   &lt;2e-16 ***
hours         1.3757     0.0799   17.22   &lt;2e-16 ***
motivation    0.9163     0.3838    2.39    0.018 *  
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 4.39 on 147 degrees of freedom
Multiple R-squared:  0.67,  Adjusted R-squared:  0.665 
F-statistic:  149 on 2 and 147 DF,  p-value: &lt;2e-16</code></pre>
</div>
</div>
</section>
<section id="f-ratio" class="slide level2">
<h2><span class="math inline">\(F\)</span>-ratio</h2>
<ul>
<li><p>Bigger <span class="math inline">\(F\)</span>-ratios indicate better fitting models</p>
<ul>
<li>It means the variance explained by the model is big compared to the residual variance</li>
</ul></li>
</ul>
<div class="fragment">
<ul>
<li><span class="math inline">\(H_0\)</span> for the model says that the best guess of any individual’s <span class="math inline">\(y\)</span> value is <span class="math inline">\(\bar{y}\)</span> (plus error)
<ul>
<li>Or, that the <span class="math inline">\(x\)</span> variables collectively carry no information about <span class="math inline">\(y\)</span></li>
<li>All slopes = 0</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<p><span class="math display">\[F = \frac{MS_{Model}}{MS_{Residual}}\]</span></p>
<ul>
<li><span class="math inline">\(F\)</span>-ratio will be close to 1 when <span class="math inline">\(H_0\)</span> is true
<ul>
<li>If there is equivalent model to residual variation ( <span class="math inline">\(MS_{model} = MS_{residual}\)</span> ), then <span class="math inline">\(F\)</span>=1
<ul>
<li>If there is more model than residual variation, then <span class="math inline">\(F\)</span> &gt; 1</li>
</ul></li>
</ul></li>
</ul>
</div>
</section>
<section id="testing-the-significance-of-f" class="slide level2">
<h2>Testing the Significance of <span class="math inline">\(F\)</span></h2>
<ul>
<li><p>The <span class="math inline">\(F\)</span>-ratio is our test statistic for the significance of our model</p>
<ul>
<li><p>As with all statistical inferences, we would select an <span class="math inline">\(\alpha\)</span> level.</p></li>
<li><p>Identify the proper null <span class="math inline">\(F\)</span>-distribution and calculate the critical value of <span class="math inline">\(F\)</span> associated with chosen level of <span class="math inline">\(\alpha\)</span></p></li>
<li><p>Compare our <span class="math inline">\(F\)</span>-statistic to the critical value.</p></li>
<li><p>If our value is more extreme than the critical value, it is considered significant</p></li>
</ul></li>
</ul>
</section>
<section id="sampling-distribution-for-the-null" class="slide level2">
<h2>Sampling Distribution for the Null</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><p>Similar to the <span class="math inline">\(t\)</span>-distribution, the <span class="math inline">\(F\)</span>-distribution changes shape based on <span class="math inline">\(df\)</span></p></li>
<li><p>With an <span class="math inline">\(F\)</span>-statistic, we have to consider both the <span class="math inline">\(df_{model}\)</span> and <span class="math inline">\(df_{residual}\)</span></p></li>
<li><p>In parentheses, <span class="math inline">\(df_{model}\)</span> is shown before <span class="math inline">\(df_{residual}\)</span></p></li>
</ul>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="dapr2_04_ftests_files/figure-revealjs/unnamed-chunk-8-1.svg"></p>
</div>
</div>
</div>
</div>
</section>
<section id="a-decision-about-the-null" class="slide level2">
<h2>A Decision about the Null</h2>
<ul>
<li><p>We need to set our <span class="math inline">\(\alpha\)</span> level</p>
<ul>
<li><span class="math inline">\(\alpha = .05\)</span></li>
</ul></li>
</ul>
<div class="fragment">
<ul>
<li><p>We have an <span class="math inline">\(F\)</span>-statistic (from our model output summary):</p>
<ul>
<li><span class="math inline">\(F = 148.9\)</span></li>
</ul></li>
</ul>
</div>
<div class="fragment">
<ul>
<li><p>We consider <span class="math inline">\(df_{model}\)</span> and <span class="math inline">\(df_{residual}\)</span> to get our null distribution:</p>
<ul>
<li><p><span class="math inline">\(df_{model}=k=2\)</span></p></li>
<li><p><span class="math inline">\(df_{residual}=n-k-1=150-2-1=147\)</span></p></li>
</ul></li>
</ul>
</div>
<div class="fragment">
<ul>
<li>Now we can compute our critical value for <span class="math inline">\(F\)</span></li>
</ul>
</div>
</section>
<section id="visualise-the-test" class="slide level2">
<h2>Visualise the Test</h2>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="dapr2_04_ftests_files/figure-revealjs/unnamed-chunk-9-1.svg"></p>
</div>
</div>
</div><div class="column" style="width:60%;">
<ul>
<li><span class="math inline">\(F\)</span>-distribution with 2 <span class="math inline">\(df_{model}\)</span> and 147 <span class="math inline">\(df_{residual}\)</span> (our null distribution)</li>
</ul>
</div>
</div>
</section>
<section id="visualise-the-test-1" class="slide level2" data-visibility="uncounted">
<h2>Visualise the Test</h2>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="dapr2_04_ftests_files/figure-revealjs/unnamed-chunk-10-1.svg"></p>
</div>
</div>
</div><div class="column" style="width:60%;">
<ul>
<li><p><span class="math inline">\(F\)</span>-distribution with 2 <span class="math inline">\(df_{model}\)</span> and 147 <span class="math inline">\(df_{residual}\)</span> (our null distribution)</p></li>
<li><p>Our critical value (using the <code>qf()</code> function):</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>(<span class="at">Crit =</span> <span class="fu">round</span>(<span class="fu">qf</span>(<span class="fl">0.95</span>, <span class="dv">2</span>, <span class="dv">147</span>), <span class="dv">3</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.06</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="visualise-the-test-2" class="slide level2" data-visibility="uncounted">
<h2>Visualise the Test</h2>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="dapr2_04_ftests_files/figure-revealjs/unnamed-chunk-12-1.svg"></p>
</div>
</div>
</div><div class="column" style="width:60%;">
<ul>
<li><p><span class="math inline">\(F\)</span>-distribution with 2 <span class="math inline">\(df_{model}\)</span> and 147 <span class="math inline">\(df_{residual}\)</span> (our null distribution)</p></li>
<li><p>Our critical value (using the <code>qf()</code> function)</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>(<span class="at">Crit =</span> <span class="fu">round</span>(<span class="fu">qf</span>(<span class="fl">0.95</span>, <span class="dv">2</span>, <span class="dv">147</span>), <span class="dv">3</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.06</code></pre>
</div>
</div>
<ul>
<li>We can calculate the probability of an <span class="math inline">\(F\)</span>-statistic at least as extreme as ours, given <span class="math inline">\(H_0\)</span> is true (our <span class="math inline">\(p\)</span>-value):</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>(<span class="at">pVal =</span> <span class="dv">1</span><span class="sc">-</span><span class="fu">pf</span>(<span class="fl">148.9</span>, <span class="dv">2</span>, <span class="dv">147</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="visualise-the-test-3" class="slide level2" data-visibility="uncounted">
<h2>Visualise the Test</h2>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="dapr2_04_ftests_files/figure-revealjs/unnamed-chunk-15-1.svg"></p>
</div>
</div>
</div><div class="column" style="width:60%;">
<ul>
<li><p><span class="math inline">\(F\)</span>-distribution with 2 <span class="math inline">\(df_{model}\)</span> and 147 <span class="math inline">\(df_{residual}\)</span> (our null distribution)</p></li>
<li><p>Our critical value (using the <code>qf()</code> function)</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>Crit <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">qf</span>(<span class="fl">0.95</span>, <span class="dv">2</span>, <span class="dv">147</span>), <span class="dv">3</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>Crit</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3.06</code></pre>
</div>
</div>
<ul>
<li>We can calculate the probability of an <span class="math inline">\(F\)</span>-statistic at least as extreme as ours, given <span class="math inline">\(H_0\)</span> is true (our <span class="math inline">\(p\)</span>-value):</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>pVal <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">-</span><span class="fu">pf</span>(<span class="fl">148.9</span>, <span class="dv">2</span>, <span class="dv">147</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>pVal</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "0.00000"</code></pre>
</div>
</div>
<ul>
<li>Our model significantly predicted the variance in test score, <span class="math inline">\(F(2,147)= 148.90, p &lt; .001\)</span></li>
</ul>
</div>
</div>
</section></section>
<section>
<section id="part-2-model-comparison-incremental-f-tests" class="title-slide slide level1 center" data-background-color="#BF1932">
<h1>Part 2: Model Comparison &amp; Incremental <span class="math inline">\(F\)</span>-tests</h1>

</section>
<section id="model-comparisons" class="slide level2 smaller">
<h2>Model Comparisons</h2>
<ul>
<li><p>So far:</p>
<ul>
<li>We have tested individual predictors</li>
<li>and we have tested overall models</li>
</ul></li>
<li><p>Our questions have been <em>is our overall model better than nothing?</em> ( <span class="math inline">\(F\)</span>-test ) or <em>which variables, specifically, are good predictors of the outcome variable?</em> ( <span class="math inline">\(t\)</span>-tests of <span class="math inline">\(\beta\)</span> estimates )</p></li>
</ul>
<div class="fragment">
<ul>
<li>But what if instead we wanted to ask:</li>
</ul>
<blockquote>
<p><strong>When I make a change to my model, does it improve or not?</strong></p>
</blockquote>
<ul>
<li>This question is the core of model comparison</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><p>We can adapt this to our models in a more specific way:</p>
<ul>
<li>E.g. is a model with <span class="math inline">\(x_1\)</span> and <span class="math inline">\(x_2\)</span> and <span class="math inline">\(x_3\)</span> as predictors better than the model with just <span class="math inline">\(x_1\)</span>?</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<ul>
<li><p>Can ask questions such as <em>does our model improve when we add predictors?</em></p>
<ul>
<li>To answer, we can look at the combined performance of a <em>subset</em> of predictors</li>
</ul></li>
</ul>
</div>
</section>
<section id="f-test-as-an-incremental-test" class="slide level2">
<h2><span class="math inline">\(F\)</span>-test as an Incremental Test</h2>
<ul>
<li><p>One important way we can think about the <span class="math inline">\(F\)</span>-test and the <span class="math inline">\(F\)</span>-ratio is as an incremental test against an “empty” or null model</p></li>
<li><p>A null or empty model is a linear model with only the intercept</p>
<ul>
<li>In this model, our predicted value of the outcome for every case in our data set, is the mean of the outcome ( <span class="math inline">\(\bar{y}\)</span>)</li>
<li>That is, with no predictors, we have no information that may help us predict the outcome</li>
<li>So we will be ‘least wrong’ by guessing the mean of the outcome</li>
</ul></li>
<li><p>An empty model is the same as saying all <span class="math inline">\(\beta\)</span> = 0</p>
<ul>
<li>And remember, this was the null hypothesis of the <span class="math inline">\(F\)</span>-test</li>
</ul></li>
</ul>
<div class="fragment">
<ul>
<li>So in this way, the <span class="math inline">\(F\)</span>-test can be seen as <strong>comparing two models</strong></li>
</ul>
</div>
<div class="fragment">
<ul>
<li>We can extend this idea, and use the <span class="math inline">\(F\)</span>-test to compare two models that contain fewer or more predictors
<ul>
<li>This is the <strong>incremental <span class="math inline">\(F\)</span>-test</strong></li>
</ul></li>
</ul>
</div>
</section>
<section id="incremental-f-test" class="slide level2 smaller">
<h2>Incremental <span class="math inline">\(F\)</span>-test</h2>
<ul>
<li><p>The incremental <span class="math inline">\(F\)</span>-test evaluates the statistical significance of the improvement in variance explained in an outcome with the addition of further predictor(s)</p></li>
<li><p>It is based on the difference in <span class="math inline">\(F\)</span>-values between two models</p>
<ul>
<li>We call the model with the additional predictor(s) the <strong>full model</strong> (denoted with <span class="math inline">\(_F\)</span>)</li>
<li>We call the model without additional predictors the <strong>restricted model</strong> (denoted with <span class="math inline">\(_R\)</span>)</li>
</ul></li>
</ul>
<p><span class="math display">\[
F_{(df_R-df_F),df_F} = \frac{(SSR_R-SSR_F)/(df_R-df_F)}{SSR_F / df_F}
\]</span></p>
<p><span class="math display">\[
\begin{align}
&amp; \text{Where:} \\
&amp; SSR_R = \text{residual sums of squares for the restricted model} \\
&amp; SSR_F = \text{residual sums of squares for the full model} \\
&amp; df_R = \text{residual degrees of freedom from the restricted model} \\
&amp; df_F = \text{residual degrees of freedom from the full model} \\
\end{align}
\]</span></p>
</section>
<section id="example-of-model-comparison" class="slide level2">
<h2>Example of Model Comparison</h2>
<ul>
<li><p>Consider this example based on data from the Midlife in United States (MIDUS2) study:</p>
<ul>
<li><p>Outcome: self-rated health (<code>health</code>)</p></li>
<li><p>Covariates: Age (<code>age</code>), sex (<code>sex</code>)</p></li>
<li><p>Predictors: Big Five personality traits (<code>O</code>, <code>C</code>, <code>E</code>, <code>A</code>, <code>N</code>) and Purpose in Life (<code>PIL</code>)</p></li>
</ul></li>
<li><p>Research Question: Does personality predict self-rated health over and above age and sex?</p>
<ul>
<li><p>Two step process to address RQ:</p>
<ul>
<li><p>Step 1: Fit both models</p></li>
<li><p>Step 2: Statistically compare models</p></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="the-data" class="slide level2">
<h2>The Data</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 10
      ID   age sex    health     O     C     E     A     N   PIL
   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
 1 10002    69 MALE        8  2.14   2.8   2.6   3.4  2     5.86
 2 10019    51 MALE        8  3.14   3     3.4   3.6  1.5   5.71
 3 10023    78 FEMALE      4  3.57   3.4   3.6   4    1.75  5.14
 4 10039    53 MALE        4  3.57   3.2   3     3.8  1.75  4.57
 5 10040    49 MALE        8  3.43   3.6   3.2   3    3     6   
 6 10042    59 FEMALE      8  3.71   4     3.2   4    1.75  6.71
 7 10047    45 FEMALE      9  2.43   4     3     4    1.75  5.71
 8 10050    44 FEMALE      3  3.71   3.6   2.8   4    3     6.86
 9 10060    58 MALE        7  3.71   3     3     3.6  2.25  6.57
10 10061    81 MALE        8  3      3.6   2.4   3.2  1.75  6.71</code></pre>
</div>
</div>
</section>
<section id="the-models" class="slide level2">
<h2>The Models</h2>
<ul>
<li><p>Does personality significantly predict self-rated health over and above the effects of age and sex?</p></li>
<li><p>First step: Fit and run models</p>
<ul>
<li>M1: We predict from age and sex</li>
<li>M2: we add in the FFM (personality) traits</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>m1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(health <span class="sc">~</span> age <span class="sc">+</span> sex, <span class="at">data =</span> midus2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>m2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(health <span class="sc">~</span> age <span class="sc">+</span> sex <span class="sc">+</span> O <span class="sc">+</span> C <span class="sc">+</span> E <span class="sc">+</span> A <span class="sc">+</span> N, <span class="at">data =</span> midus2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="model-1-output-age-sex" class="slide level2">
<h2>Model 1 Output (Age + Sex)</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = health ~ age + sex, data = midus2)

Residuals:
   Min     1Q Median     3Q    Max 
-7.306 -1.050  0.580  0.853  2.977 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  7.75597    0.18365   42.23   &lt;2e-16 ***
age         -0.00883    0.00312   -2.83   0.0047 ** 
sexMALE      0.03529    0.07862    0.45   0.6536    
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 1.64 on 1758 degrees of freedom
Multiple R-squared:  0.00463,   Adjusted R-squared:  0.00349 
F-statistic: 4.09 on 2 and 1758 DF,  p-value: 0.017</code></pre>
</div>
</div>
</section>
<section id="model-2-output-age-sex-personality" class="slide level2 smaller">
<h2>Model 2 Output (Age + Sex + Personality)</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = health ~ age + sex + O + C + E + A + N, data = midus2)

Residuals:
   Min     1Q Median     3Q    Max 
-6.772 -0.792  0.253  1.010  3.955 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  6.66172    0.45100   14.77  &lt; 2e-16 ***
age         -0.01310    0.00298   -4.40  1.2e-05 ***
sexMALE     -0.09571    0.07955   -1.20     0.23    
O            0.09307    0.08306    1.12     0.26    
C            0.57147    0.08507    6.72  2.5e-11 ***
E            0.56771    0.08061    7.04  2.7e-12 ***
A           -0.40380    0.09025   -4.47  8.2e-06 ***
N           -0.56493    0.06189   -9.13  &lt; 2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 1.52 on 1753 degrees of freedom
Multiple R-squared:  0.148, Adjusted R-squared:  0.145 
F-statistic: 43.7 on 7 and 1753 DF,  p-value: &lt;2e-16</code></pre>
</div>
</div>
</section>
<section id="incremental-f-test-in-r" class="slide level2">
<h2>Incremental <span class="math inline">\(F\)</span>-test in R</h2>
<ul>
<li><p>Second step: Compare the two models based on an incremental <span class="math inline">\(F\)</span>-test</p></li>
<li><p>In order to apply the <span class="math inline">\(F\)</span>-test for model comparison in <code>R</code>, we use the <code>anova()</code> function</p></li>
<li><p><code>anova()</code> takes as its arguments the models that we wish to compare</p>
<ul>
<li>Here we see an example with 2 models, but we could use more (e.g., <code>anova(m1, m2, m3)</code>)</li>
</ul></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(m1, m2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="incremental-f-test-in-r-1" class="slide level2">
<h2>Incremental <span class="math inline">\(F\)</span>-test in R</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">anova</span>(m1, m2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Variance Table

Model 1: health ~ age + sex
Model 2: health ~ age + sex + O + C + E + A + N
  Res.Df  RSS Df Sum of Sq    F Pr(&gt;F)    
1   1758 4740                             
2   1753 4055  5       685 59.2 &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
</div>
<p><br></p>
<div class="fragment">
<p><strong>Personality was found to explain a significant amount of variance in self-rated health over and above the effects of age and sex <span class="math inline">\(F(5, 1753) = 59.21, p &lt; .001)\)</span></strong> .</p>
</div>
</section></section>
<section>
<section id="part-3-non-nested-models-and-alternatives-to-f-tests" class="title-slide slide level1 center" data-background-color="#BF1932">
<h1>Part 3: Non-Nested Models and Alternatives to <span class="math inline">\(F\)</span>-tests</h1>

</section>
<section id="nested-vs-non-nested-models" class="slide level2">
<h2>Nested vs Non-Nested Models</h2>
<ul>
<li><p>The <span class="math inline">\(F\)</span>-ratio depends on the comparison models being nested</p>
<ul>
<li>Nested means that the predictors in one model are a subset of the predictors in the other</li>
</ul></li>
<li><p>We also require the models to be computed on the same data</p>
<ul>
<li>Be careful when data contains <code>NA</code>’s</li>
<li>The <code>lm()</code> function excludes the whole row of data if any of <span class="math inline">\(y\)</span> or <span class="math inline">\(x\)</span>’s specified in the model have missing values on that row</li>
<li>If the additional variables you add to the full model have <code>NA</code>’s, the data sets used by the models could end up different!</li>
</ul></li>
</ul>
<div class="fragment">
<blockquote>
<p><strong>You can only do an <span class="math inline">\(F\)</span>-test if the models are nested: the variables are nested and the data are identical</strong></p>
</blockquote>
</div>
</section>
<section id="nested-vs-non-nested-models-1" class="slide level2">
<h2>Nested vs Non-Nested Models</h2>
<p>Assuming no <code>NA</code>’s in <code>data</code>:</p>
<p><strong>Nested</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>m0 <span class="ot">&lt;-</span> <span class="fu">lm</span>(outcome <span class="sc">~</span> x1 <span class="sc">+</span> x2 , <span class="at">data =</span> data)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>m1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(outcome <span class="sc">~</span> x1 <span class="sc">+</span> x2 <span class="sc">+</span> x3, <span class="at">data =</span> data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><code>x1</code> and <code>x2</code> appear in both models</li>
</ul>
<p><strong>Non-Nested</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>m0 <span class="ot">&lt;-</span> <span class="fu">lm</span>(outcome <span class="sc">~</span> x1 <span class="sc">+</span> x2 <span class="sc">+</span> x4, <span class="at">data =</span> data)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>m1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(outcome <span class="sc">~</span> x1 <span class="sc">+</span> x2 <span class="sc">+</span> x3, <span class="at">data =</span> data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>There are unique variables in both models
<ul>
<li><code>x4</code> in <code>m0</code></li>
<li><code>x3</code> in <code>m1</code></li>
</ul></li>
</ul>
</section>
<section id="model-comparison-for-non-nested-models" class="slide level2">
<h2>Model Comparison for Non-Nested Models</h2>
<ul>
<li><p>So what happens when we have non-nested models?</p></li>
<li><p>There are two commonly used alternatives</p>
<ul>
<li>AIC</li>
<li>BIC</li>
</ul></li>
<li><p>Unlike the incremental <span class="math inline">\(F\)</span>-test AIC and BIC do not require two models to be nested</p></li>
<li><p>Smaller (more negative) values indicate better fitting models</p>
<ul>
<li>So we compare values and choose the model with the smaller AIC or BIC value</li>
</ul></li>
</ul>
</section>
<section id="aic-bic" class="slide level2">
<h2>AIC &amp; BIC</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><span class="math display">\[
\small AIC = n\,\text{ln}\left( \frac{SS_{residual}}{n} \right) + 2k
\]</span></p>
</div><div class="column" style="width:50%;">
<p><span class="math display">\[
\small BIC = n\,\text{ln}\left( \frac{SS_{residual}}{n} \right) + k\,\text{ln}(n)
\]</span></p>
</div><p><span class="math display">\[
\begin{align}
&amp; \text{Where:} \\
&amp; SS_{residual} = \text{sum of squares residuals} \\
&amp; n = \text{sample size} \\
&amp; k = \text{number of explanatory variables} \\
&amp; \text{ln} = \text{natural log function}
\end{align}
\]</span></p>
</div>
</section>
<section id="parsimony-corrections" class="slide level2">
<h2>Parsimony Corrections</h2>
<ul>
<li><p>Both AIC and BIC contain something called a parsimony correction</p>
<ul>
<li><p>In essence, they penalise models for being complex</p></li>
<li><p>This is to help us avoid overfitting (adding predictors arbitrarily to improve fit)</p></li>
</ul></li>
</ul>
<p><span class="math display">\[
AIC = n\,\text{ln}\left( \frac{SS_{residual}}{n} \right) + 2k
\]</span></p>
<p><span class="math display">\[
BIC = n\,\text{ln}\left( \frac{SS_{residual}}{n} \right) + k\,\text{ln}(n)
\]</span></p>
<ul>
<li>BIC has a harsher parsimony penalty for typical sample sizes when applying linear models than AIC
<ul>
<li>When <span class="math inline">\(\text{ln}(n) &gt; 2\)</span> , BIC will have a more severe parsimony penalty (i.e.&nbsp;essentially all the time!)</li>
</ul></li>
</ul>
</section>
<section id="in-r" class="slide level2">
<h2>In R</h2>
<ul>
<li>Let’s use AIC and BIC on our <code>m1</code> and <code>m2</code> models from previously</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>m1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(health <span class="sc">~</span> age <span class="sc">+</span> sex, <span class="at">data =</span> midus2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>m2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(health <span class="sc">~</span> age <span class="sc">+</span> sex <span class="sc">+</span> O <span class="sc">+</span> C <span class="sc">+</span> E <span class="sc">+</span> A <span class="sc">+</span> N, <span class="at">data =</span> midus2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AIC</span>(m1, m2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   df  AIC
m1  4 6749
m2  9 6484</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">BIC</span>(m1, m2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   df  BIC
m1  4 6771
m2  9 6534</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="a-different-example" class="slide level2">
<h2>A Different Example</h2>
<ul>
<li><p>Our previous models were nested</p>
<ul>
<li><code>m1</code> had just covariates</li>
<li><code>m2</code> added personality</li>
</ul></li>
<li><p>Using the same data, let’s consider a non-nested example</p></li>
<li><p>Suppose we want to compare a model that:</p>
<ul>
<li>predicts self-rated health from just 5 personality variables (<code>nn1</code> : non-nested model 1)</li>
<li>to a model that predicts from age, sex and a variable called Purpose in Life (PIL) (<code>nn2</code>).</li>
</ul></li>
</ul>
</section>
<section id="applied-to-non-nested-models" class="slide level2">
<h2>Applied to Non-Nested Models</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>nn1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(health <span class="sc">~</span> O <span class="sc">+</span> C <span class="sc">+</span> E <span class="sc">+</span> A <span class="sc">+</span> N, <span class="at">data=</span>midus2)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>nn2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(health <span class="sc">~</span> age <span class="sc">+</span> sex <span class="sc">+</span> PIL, <span class="at">data =</span> midus2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><br></p>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">AIC</span>(nn1, nn2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    df  AIC
nn1  7 6502
nn2  5 6565</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">BIC</span>(nn1, nn2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    df  BIC
nn1  7 6540
nn2  5 6592</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="considerations-for-use-of-aic-and-bic" class="slide level2">
<h2>Considerations for use of AIC and BIC</h2>
<ul>
<li>AIC and BIC can be used for both nested and non-nested models</li>
</ul>
<div class="fragment">
<ul>
<li>The AIC and BIC for a single model are not meaningful
<ul>
<li>They only make sense for model comparisons</li>
<li>We evaluate these comparisons by looking at the difference, <span class="math inline">\(\Delta\)</span>, between two values</li>
</ul></li>
</ul>
</div>
<div class="fragment">
<ul>
<li>There are no specific thresholds for <span class="math inline">\(\Delta AIC\)</span> to suggest how big a difference in two models is needed to conclude that one is substantively better than the other</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>The following <span class="math inline">\(\Delta BIC\)</span> cutoffs have been suggested (Raftery, 1995):</li>
</ul>
<table>
<colgroup>
<col style="width: 27%">
<col style="width: 72%">
</colgroup>
<thead>
<tr class="header">
<th>Value</th>
<th>Interpretation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(\Delta &lt; 2\)</span></td>
<td>No evidence of difference between models</td>
</tr>
<tr class="even">
<td><span class="math inline">\(2 &lt; \Delta &lt; 6\)</span></td>
<td>Positive evidence of difference between models</td>
</tr>
<tr class="odd">
<td><span class="math inline">\(6 &lt; \Delta &lt; 10\)</span></td>
<td>Strong evidence of difference between models</td>
</tr>
<tr class="even">
<td><span class="math inline">\(\Delta &gt; 10\)</span></td>
<td>Very strong evidence of difference between models</td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="block-1-summary" class="slide level2">
<h2>Block 1 Summary</h2>
<ul>
<li>So far we have seen how to:
<ul>
<li>run a linear model with a single predictor</li>
<li>extend this and add predictors</li>
<li>interpret these coefficients either in original units or standardised units</li>
<li>test the significance of <span class="math inline">\(\beta\)</span> coefficients</li>
<li>test the significance of the overall model</li>
<li>estimate the amount of variance explained by our model</li>
<li>evaluate improvements to model fit when variables are added</li>
<li>select a better-fitting model between two nested or non-nested models</li>
</ul></li>
<li>You can now run and interpret linear models with continuous predictors</li>
</ul>
</section>
<section id="this-week" class="slide level2">
<h2>This Week</h2>
<p><br></p>
<div class="columns">
<div class="column" style="width:50%;">
<h3 id="tasks">Tasks</h3>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="figs/labs.svg" style="width:10.0%"></p>
</div>
</div>
<p><strong>Attend your lab and work together on the exercises</strong></p>
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="figs/exam.svg" style="width:10.0%"></p>
</div>
</div>
<p><strong>Complete the weekly quiz</strong></p>
</div><div class="column" style="width:50%;">
<h3 id="support">Support</h3>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="figs/forum.svg" style="width:10.0%"></p>
</div>
</div>
<p><strong>Help each other on the Piazza forum</strong></p>
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<p><img data-src="figs/oh.png" style="width:10.0%"></p>
</div>
</div>
<p><strong>Attend office hours (see Learn page for details)</strong></p>
</div>
</div>
<div class="footer footer-default">

</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="dapr2_04_ftests_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="dapr2_04_ftests_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="dapr2_04_ftests_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="dapr2_04_ftests_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="dapr2_04_ftests_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="dapr2_04_ftests_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="dapr2_04_ftests_files/libs/revealjs/plugin/reveal-attribution/attribution.js"></script>
  <script src="dapr2_04_ftests_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="dapr2_04_ftests_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="dapr2_04_ftests_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="dapr2_04_ftests_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="dapr2_04_ftests_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1294,

        height: 1000,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, RevealAttribution, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <style>
      .hide {
        display: none !important;
      }
    </style>


    <script>
      function remove() {
        let footer = document.querySelector('div.footer');
        let slideNo = document.querySelector('div.slide-number');
        slideNo.classList.add('hide');
        footer.classList.add('hide');
      
        Reveal.on('slidechanged', event => {  
          if(Reveal.isFirstSlide()) {
            slideNo.classList.add('hide');
            footer.classList.add('hide');
          } else {
            slideNo.classList.remove('hide');
            footer.classList.remove('hide');
          }
        });
      }
      
      window.onload = remove();
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
          let selectedAnnoteEl;
          const selectorForAnnotation = ( cell, annotation) => {
            let cellAttr = 'data-code-cell="' + cell + '"';
            let lineAttr = 'data-code-annotation="' +  annotation + '"';
            const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
            return selector;
          }
          const selectCodeLines = (annoteEl) => {
            const doc = window.document;
            const targetCell = annoteEl.getAttribute("data-target-cell");
            const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
            const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
            const lines = annoteSpan.getAttribute("data-code-lines").split(",");
            const lineIds = lines.map((line) => {
              return targetCell + "-" + line;
            })
            let top = null;
            let height = null;
            let parent = null;
            if (lineIds.length > 0) {
                //compute the position of the single el (top and bottom and make a div)
                const el = window.document.getElementById(lineIds[0]);
                top = el.offsetTop;
                height = el.offsetHeight;
                parent = el.parentElement.parentElement;
              if (lineIds.length > 1) {
                const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
                const bottom = lastEl.offsetTop + lastEl.offsetHeight;
                height = bottom - top;
              }
              if (top !== null && height !== null && parent !== null) {
                // cook up a div (if necessary) and position it 
                let div = window.document.getElementById("code-annotation-line-highlight");
                if (div === null) {
                  div = window.document.createElement("div");
                  div.setAttribute("id", "code-annotation-line-highlight");
                  div.style.position = 'absolute';
                  parent.appendChild(div);
                }
                div.style.top = top - 2 + "px";
                div.style.height = height + 4 + "px";
                let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
                if (gutterDiv === null) {
                  gutterDiv = window.document.createElement("div");
                  gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                  gutterDiv.style.position = 'absolute';
                  const codeCell = window.document.getElementById(targetCell);
                  const gutter = codeCell.querySelector('.code-annotation-gutter');
                  gutter.appendChild(gutterDiv);
                }
                gutterDiv.style.top = top - 2 + "px";
                gutterDiv.style.height = height + 4 + "px";
              }
              selectedAnnoteEl = annoteEl;
            }
          };
          const unselectCodeLines = () => {
            const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
            elementsIds.forEach((elId) => {
              const div = window.document.getElementById(elId);
              if (div) {
                div.remove();
              }
            });
            selectedAnnoteEl = undefined;
          };
          // Handle positioning of the toggle
          window.addEventListener(
          "resize",
          throttle(() => {
            elRect = undefined;
            if (selectedAnnoteEl) {
              selectCodeLines(selectedAnnoteEl);
            }
          }, 10)
          );
          function throttle(fn, ms) {
          let throttle = false;
          let timer;
            return (...args) => {
              if(!throttle) { // first call gets through
                  fn.apply(this, args);
                  throttle = true;
              } else { // all the others get throttled
                  if(timer) clearTimeout(timer); // cancel #2
                  timer = setTimeout(() => {
                    fn.apply(this, args);
                    timer = throttle = false;
                  }, ms);
              }
            };
          }
          const annoteTargets = window.document.querySelectorAll('.code-annotation-anchor');
          for (let i=0; i<annoteTargets.length; i++) {
            const annoteTarget = annoteTargets[i];
            const targetCell = annoteTarget.getAttribute("data-target-cell");
            const targetAnnotation = annoteTarget.getAttribute("data-target-annotation");
            const contentFn = () => {
              const content = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
              if (content) {
                const tipContent = content.cloneNode(true);
                tipContent.classList.add("code-annotation-tip-content");
                return tipContent.outerHTML;
              }
            }
            const config = {
              allowHTML: true,
              content: contentFn,
              onShow: (instance) => {
                selectCodeLines(instance.reference);
                instance.reference.classList.add('code-annotation-active');
                window.tippy.hideAll();
              },
              onHide: (instance) => {
                unselectCodeLines();
                instance.reference.classList.remove('code-annotation-active');
              },
              maxWidth: 300,
              delay: [50, 0],
              duration: [200, 0],
              offset: [5, 10],
              arrow: true,
              appendTo: function(el) {
                return el.parentElement.parentElement.parentElement;
              },
              interactive: true,
              interactiveBorder: 10,
              theme: 'light-border',
              placement: 'right',
              popperOptions: {
                modifiers: [
                {
                  name: 'flip',
                  options: {
                    flipVariations: false, // true by default
                    allowedAutoPlacements: ['right'],
                    fallbackPlacements: ['right', 'top', 'top-start', 'top-end'],
                  },
                },
                {
                  name: 'preventOverflow',
                  options: {
                    mainAxis: false,
                    altAxis: false
                  }
                }
                ]        
              }      
            };
            window.tippy(annoteTarget, config); 
          }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>