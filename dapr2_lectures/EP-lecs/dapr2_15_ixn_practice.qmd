---
title: "Interactions: Practice analysis"
editor_options: 
  chunk_output_type: console
format:
  revealjs:
    smaller: true
---

```{r}
#| label: setup
#| include: false
library(tidyverse)
library(emmeans)
dapr2red <- "#BF1932" 

theme_set(
  theme_minimal(
    base_size = 28
  )
)
```


# Course Overview

<br>

:::: {.columns}

::: {.column width="50%"}

```{r echo = FALSE, results='asis', warning = FALSE}
block1_name = "Introduction to linear Models"
block1_lecs = c("Intro to linear regression",
                "Interpreting linear models",
                "Testing individual predictors",
                "Model testing & comparison",
                "Linear model analysis")
block2_name = "Analysing Experimental Studies"
block2_lecs = c("Categorical predictors and dummy coding",
                "Effect coding and manual post-hoc contrasts",
                "Assumptions and diagnostics",
                "Bootstrapping and confidence intervals",
                "Categorical predictors: Practice analysis")

source("https://raw.githubusercontent.com/uoepsy/junk/main/R/course_table.R")

course_table(block1_name,block2_name,block1_lecs,block2_lecs,week = 0)
```

:::

::: {.column width="50%"}

```{r echo = FALSE, results='asis', warning = FALSE}
block3_name = "Interactions"
block3_lecs = c("Mean-centering and numeric/categorical interactions",
                "Numeric/numeric interactions",
                "Categorical/categorical interactions",
                "Manual contrast interactions and multiple comparisons",
                "Interactions: Practice analysis")
block4_name = "Advanced Topics"
block4_lecs = c("Power analysis",
                "Binary logistic regression I",
                "Binary logistic regression II",
                "Logistic regression: Practice analysis",
                "Exam prep and course Q&A")

source("https://raw.githubusercontent.com/uoepsy/junk/main/R/course_table.R")

course_table(block3_name,block4_name,block3_lecs,block4_lecs,week = 5)
```

:::

::::


## Analysis workflow: The final form

![](figs/block3-flowchart-06.svg){height="925" fig-align="center"}


# Structure of this week's lectures

## A hybrid of Emma's Block 1 finale and <br> my Block 2 finale

<br>

**Based on your feedback from last term, this practice session works well for you when:**

- a pair of you codes live on the big screen (with support from us!): 
  - one of you "drives";
  - one of you "navigates", keeps track on the printed sample code.
- you vote in a large group on what analysis step should happen when.
- you have some time to work out the content of each step yourselves.
- we ask for your input and ideas for how to do each step.

**So that's what we'll do :)**

## Without further ado...

<br>

:::{.dapr2callout style="font-size:120%" .hcenter}
`wooclap.com`, code `IXAMRO`
:::



# Back matter


## This week

<br>

:::: {.columns}
::: {.column width="50%"}

**Tasks:**

<br>

```{r, echo = F, out.width='15%'}
knitr::include_graphics('figs/labs.svg')
```

**Attend your lab and work together on the exercises**

:::
::: {.column width="50%"}

**Support:**

<br>

```{r, echo = F, out.width='15%'}
knitr::include_graphics('figs/forum.svg')
```

**Help each other on the Piazza forum**

:::
::::

<br>

:::: {.columns}
::: {.column width="50%"}

```{r, echo = F, out.width='15%'}
knitr::include_graphics('figs/exam.svg')
```

**Complete the weekly quiz**

:::
::: {.column width="50%"}

```{r, echo = F, out.width='15%'}
knitr::include_graphics('figs/oh.png')
```

**Attend office hours (see Learn page for details)**

:::
::::



# Appendix {.appendix} 


## Analysis steps, in three phases (1)

**Not every analysis requires every step.**

Think of these steps like a buffet for you to pick and choose from, depending on what your analysis needs.

<br>

:::{.dapr2callout}
**(1) Before model fitting:** 

- Identify the relevant variables
- Data tidying (e.g., missingness? factor levels?)
- Get summary statistics for the relevant variables
- Plot each relevant variable individually
- Plot the relevant variables together
- Set up categorical predictors (e.g., what a priori coding scheme?)
- Set up continuous predictors (e.g., any transformations?)
- Decide whether the RQ requires an interaction model
- Think what the model coefficients might look like
- Formally state null and alternative hypotheses
:::


## Analysis steps, in three phases (2)

<br>

:::{.dapr2callout}
**(2) Model fitting:** 

- Fit the linear model to the data
:::


## Analysis steps, in three phases (3)

<br>

:::{.dapr2callout}
**(3) After model fitting:** 

- Check model assumptions 
- Bootstrap the linear model *(lost to the strike)*
- Run diagnostics for multicollinearity
- Run diagnostics for unusual data points *(skipped for time)*
- Run sensitivity analysis *(skipped for time)*
- Interpret the model estimates
- Get estimated marginal means
- Plot estimated marginal means
- Compute simple slopes/simple effects (incl. corrections for multiple comparisons)
- Plot simple slopes/simple effects
- Create and test manual contrasts
- Create and test interactions between manual contrasts
- Write up your analysis *(in this week's labs!)*
:::





<!-- :::: {.columns} -->
<!-- ::: {.column width="50%"} -->
<!-- a -->
<!-- ::: -->
<!-- ::: {.column width="50%"} -->
<!-- b -->
<!-- ::: -->
<!-- :::: -->
